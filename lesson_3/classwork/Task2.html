<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Task 2</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="wrap" id="wrap">
      <header>
        <button id="HouseButton">House</button>
        <button id="TreeButton">Tree</button>
        <button id="PlaneButton">Plane</button>
      </header>
      <div id="chooseYourBlock">

      </div>
      <div id="result">

      </div>
    </div>
    <script>
      /*
        Задание:

        По нажатию на кнопку, в блок с id chooseYourBlock выводить иконку с нажатой кнопки:

        House:  https://image.flaticon.com/icons/svg/149/149064.svg
        Tree: https://image.flaticon.com/icons/svg/620/620705.svg
        Plane: https://image.flaticon.com/icons/svg/579/579268.svg

        Под иконкой расположить еще одну кнопку, по нажатию на которую из соответствующего массива
        подтягивается случайная картинка с изображением в блок result.
        Предыдущий результат очищается.

        var houseArray = [
        "https://static.pexels.com/photos/106399/pexels-photo-106399.jpeg",
        "https://i.pinimg.com/736x/7f/be/50/7fbe50ec634c65709d7fe6ac267c4e6f--large-garage-plans-house-plans-large-family.jpg",
        "https://i.ytimg.com/vi/Xx6t0gmQ_Tw/maxresdefault.jpg"
      ];
        var planeArray = [
        "http://www.x-plane.com/wp-content/uploads/2014/08/B777-200ER.png",
        "https://media.cntraveler.com/photos/57067c1e9adc6caf5afe3f4c/master/pass/plane-landing-cr-getty-sb10062851ai-001.jpg",
        "https://media.wired.com/photos/59323264a31264584499367f/master/w_1024,c_limit/diesel-plane-inline.jpg"
      ];
      var treeArray = [
        "https://static.pexels.com/photos/56875/tree-dawn-nature-bucovina-56875.jpeg",
        "https://c1.staticflickr.com/8/7218/7184786016_1ddab461e8_b.jpg",
        "http://www.atzmut.com/wp-content/uploads/2016/01/tree.jpg"
      ];

      */

      let buttons = document.querySelectorAll('button');
      let iconBlock = document.getElementById('chooseYourBlock');
      let resultBlock = document.getElementById('result');

      let iconsObj = {
        house:  'https://image.flaticon.com/icons/svg/149/149064.svg',
        tree: 'https://image.flaticon.com/icons/svg/620/620705.svg',
        plane: 'https://image.flaticon.com/icons/svg/579/579268.svg'
      }

      let houseArray = [
        "https://static.pexels.com/photos/106399/pexels-photo-106399.jpeg",
        "https://i.pinimg.com/736x/7f/be/50/7fbe50ec634c65709d7fe6ac267c4e6f--large-garage-plans-house-plans-large-family.jpg",
        "https://i.ytimg.com/vi/Xx6t0gmQ_Tw/maxresdefault.jpg"
      ];

      let planeArray = [
        "https://media.cntraveler.com/photos/581250f2997d59497dccf8bc/16:9/w_2560%2Cc_limit/GettyImages-185298837.jpg",
        "https://media.cntraveler.com/photos/57067c1e9adc6caf5afe3f4c/master/pass/plane-landing-cr-getty-sb10062851ai-001.jpg",
        "https://media.wired.com/photos/59323264a31264584499367f/master/w_1024,c_limit/diesel-plane-inline.jpg"
      ];

      let treeArray = [
        "https://static.pexels.com/photos/56875/tree-dawn-nature-bucovina-56875.jpeg",
        "https://c1.staticflickr.com/8/7218/7184786016_1ddab461e8_b.jpg",
        "https://data2.polantis.com/image1000/data/562/26195/Cutout%20Autumn%20Tree%204_3D_p.png"
      ];

      function showIcon(e){
        let val = e.toLowerCase();
        return val;
      }
      function secondaryIcon(item){
        let rendNumber = Math.floor(Math.random()*(3-0)+0);

        switch (item){
          case "tree":
            return treeArray[rendNumber];
            break;
          case "plane":
            return planeArray[rendNumber];
            break;
          case "house":
            return houseArray[rendNumber];
            break;
        }
      }

      buttons.forEach( (btn) => btn.addEventListener("click", function() {
        let imgList =  document.querySelectorAll('#chooseYourBlock img');
        let buttonSecondaryList =  document.querySelectorAll('.secondaryBtn');
       let removeSecondaryImg = document.querySelector('#result img');

        if(removeSecondaryImg !== null){
          removeSecondaryImg.remove();
        }

        for(let i = 0; i< imgList.length;i++){
          imgList[i].remove();
          buttonSecondaryList[i].remove();
        }

        let img = new Image(150,200);
        let icon = showIcon(this.innerHTML);
        img.src = `${iconsObj[icon]}`;
        iconBlock.append(img);

        let secondaryBtn = document.createElement('button');
        secondaryBtn.innerHTML = 'Get another picture';
        secondaryBtn.className = 'secondaryBtn';
        iconBlock.after(secondaryBtn);
        secondaryBtn.addEventListener("click",function (){
          let imgList =  document.querySelectorAll('#result img');
          for(let i = 0; i< imgList.length;i++){
            imgList[i].remove();
          }
          let imgSecondary = new Image(150,200);
          imgSecondary.src = secondaryIcon(icon);

          resultBlock.append(imgSecondary);

        });

      }));

    </script>
  </body>
</html>